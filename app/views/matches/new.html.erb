<div class="jumbotron"><h1>NEW MATCH</h1></div>

<div class="row">
  <div class="col-md-6 col-xs-10 col-xs-offset-1">
    <%= simple_form_for @match do |f| %>

    <% if params[:selected].blank? %>
            <%= f.input :first_player, collection: @players, label_method: :name, value_method: :id, include_blank: true, label: "First Player:", input_html: { onchange: "if(this.value){window.location='?selected='+this.value;}" } %>
            <%= f.input :second_player, collection: @players, label_method: :name, value_method: :id, include_blank: false, label: "Second Player:" %>
    <% else %>
            <%= f.input :first_player, collection: @players, label_method: :name, value_method: :id, include_blank: false, label: "First Player:", selected: params[:selected], input_html: { onchange: "if(this.value){window.location='?selected='+this.value;}" } %>
            <%= f.input :second_player, collection: @players_not_all, label_method: :name, value_method: :id, include_blank: false, label: "Second Player:" %>
    <% end %>

    <%= f.button :submit, 'Play the Match' %>
    <% end %>
    <br>
    <p><%= link_to 'Back', players_path %></p>
  </div>
</div>

<script>
  $(document).ready(function(){
      if( $("#match_first_player").val() > 0 )  {
          $("#match_second_player").css('display', 'inline')
      }
  })
</script>